<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="es">
<head th:replace="~{plantillas/plantilla :: head}"></head>
<body>
<header th:replace="~{plantillas/plantilla :: header}"></header>
<main class="container text-center shadow-lg p-3 mb-5 bg-body-tertiary rounded">

  <h1 th:text="${cadena}"></h1>

  <form th:action="@{crear}" th:object="${tarea}" method="post">
    <div th:if="${#fields.hasErrors('*')}" class='alert alert-danger' role="alert">
      Verifique los siguientes inconvenientes
      <ul>
        <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
      </ul>
    </div>

    <div class="row justify-content-center">
      <div class="col-6">
        <div class="form-floating">
          <p for="proyecto">Proyecto:</p>
          <select name="proyecto" id="proyecto">
            <option th:each="proyecto : ${proyectos}"
                    th:value="${proyecto.id}"
                    th:text="${proyecto.nombre}"
                    th:selected="${proyecto.id == proyectoSeleccionado}">
            </option>
          </select>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-6">
        <div class="form-floating">
          <input
                  th:class="${#fields.hasErrors('usuario')}? 'form-control is-invalid':form-control"

                  type="text" id="usuario"
                  name="usuario"
                  th:field="*{usuario}"
                  placeholder="usuario">
          <label for="usuario">Usuario:</label>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-6">
        <div class="form-floating">
          <input
                  th:class="${#fields.hasErrors('nombre')}? 'form-control is-invalid':form-control"

                  type="text" id="nombre"
                  name="nombre"
                  th:field="*{nombre}"
                  placeholder="nombre">
          <label for="nombre">Nombre:</label>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-6">
        <div class="form-floating">
          <input th:class="${#fields.hasErrors('descripcion')}? 'form-control is-invalid':form-control"
                 type="text" id="descripcion"
                 name="descripcion"
                 th:field="*{descripcion}"
                 placeholder="descripcion">
          <label for="descripcion">descripcion</label>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-6">
        <div class="form-floating">
          <select th:class="${#fields.hasErrors('estado')}? 'form-control is-invalid':form-control"
                 type="text" id="estado"
                 name="estado"
                 th:field="*{estado}">
            <option th:value="${T(dgtic.core.M8P1.model.EstadoTarea).Pendiente}" th:text="${T(dgtic.core.M8P1.model.EstadoTarea).Pendiente}"></option>
            <option th:value="${T(dgtic.core.M8P1.model.EstadoTarea).En_progreso}" th:text="${T(dgtic.core.M8P1.model.EstadoTarea).En_progreso}"></option>
            <option th:value="${T(dgtic.core.M8P1.model.EstadoTarea).Completada}" th:text="${T(dgtic.core.M8P1.model.EstadoTarea).Completada}"></option>
            <option th:value="${T(dgtic.core.M8P1.model.EstadoTarea).Cancelada}" th:text="${T(dgtic.core.M8P1.model.EstadoTarea).Cancelada}"></option>
          </select>
          <label for="estado">estado:</label>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-6">
        <div class="form-floating">
          <input th:class="${#fields.hasErrors('fechaLimite')}? 'form-control is-invalid':form-control"
                 type="Date" id="fechaLimite"
                 name="fechaLimite"
                 th:field="*{fechaLimite}"
                 placeholder="fechaLimite">
          <label for="fechaLimite">Fecha l√≠mite:</label>
        </div>
      </div>
    </div>

    <div class="col-8">
      <br/>
      <button type="submit" class="btn btn-primary">Guardar</button>
    </div>
  </form>



</main>
<footer th:replace="~{plantillas/plantilla :: footer}"></footer>
</body>
</html>
